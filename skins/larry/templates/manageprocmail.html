<roundcube:object name="doctype" value="html5" />
<html>
<head>
<title><roundcube:object name="pagetitle" /></title>
<roundcube:include file="/includes/links.html" />
</head>
<roundcube:if condition="env:extwin" /><body class="noscroll extwin"><roundcube:else /><body class="noscroll"><roundcube:endif />

<roundcube:include file="/includes/header.html" />

<h1 class="voice"><roundcube:label name="settings" /> : <roundcube:label name="manageprocmail.filters" /></h1>

<div id="mainscreen" class="offset">

<roundcube:include file="/includes/settingstabs.html" />

<style>
  #filterslist {
    width: 100%;
    table-layout: fixed;
  }
  #filterslistbox {
    position: absolute;
    top: 0;
    left: 0;
    width: 260px;
    bottom: 0;
  }

  #filter-box {
    position: absolute;
    top: 0;
    left: 272px;
    right: 0;
    bottom: 0;
  }
</style>

<div id="settings-right" role="main">

<div id="filterslistbox" class="uibox listbox" aria-labelledby="aria-label-filters">
<h2 class="boxtitle" id="aria-label-filters"><roundcube:label name="manageprocmail.filters" /></h2>
<div class="scroller withfooter">
  <roundcube:object name="filterslist" id="filterslist" class="listing" summary="manageprocmail.ariasummaryfilterslist" noheader="true" ishtml="true" role="listbox" />
</div>
<div class="boxfooter"><roundcube:button command="plugin.manageprocmail-add" type="link" title="manageprocmail.filteradd" class="listbutton add disabled" classAct="listbutton add" innerClass="inner" content="+" /><roundcube:button name="filtermenulink" id="filtermenulink" type="link" title="moreactions" class="listbutton groupactions" onclick="return UI.toggle_popup('filtermenu', event)" innerClass="inner" content="&#9881;" aria-haspopup="true" aria-expanded="false" aria-owns="filtermenu-menu" />
</div>
</div>

<div id="filter-box" class="uibox contentbox">
  <div class="iframebox" role="complementary" aria-labelledby="aria-label-filterform">
    <h2 id="aria-label-filterframe" class="voice"><roundcube:label name="manageprocmail.arialabelfilterform" /></h2>
    <roundcube:object name="filterframe" id="filter-frame" style="width: 100%; height:100%" frameborder="0" src="/watermark.html" title="manageprocmail.arialabelfilterform" />
  </div>
</div>

</div>
</div>

<div id="filtersetmenu" class="popupmenu" aria-hidden="true">
  <h3 id="aria-label-setactions" class="voice"><roundcube:label name="manageprocmail.arialabelfiltersetactions" /></h3>
  <ul class="toolbarmenu" id="filtersetmenu-menu" role="menu" aria-labelledby="aria-label-setactions">
    <li role="menuitem"><roundcube:button command="plugin.manageprocmail-setact" label="manageprocmail.enable" classAct="active" /></li>
    <li role="menuitem"><roundcube:button command="plugin.manageprocmail-setdel" label="delete" classAct="active" /></li>
    <roundcube:if condition="env:raw_sieve_editor != false" />
    <li role="menuitem"><roundcube:button command="plugin.manageprocmail-seteditraw" label="manageprocmail.filterseteditraw" classAct="active" /></li>
    <roundcube:endif />
    <li role="menuitem" class="separator_above"><roundcube:button command="plugin.manageprocmail-setget" label="download" classAct="active" /></li>
    <roundcube:container name="filtersetoptions" id="filtersetmenu" />
  </ul>
</div>

<div id="filtermenu" class="popupmenu" aria-hidden="true">
  <h3 id="aria-label-filteractions" class="voice"><roundcube:label name="manageprocmail.arialabelfilteractions" /></h3>
  <ul class="toolbarmenu" id="filtermenu-menu" role="menu" aria-labelledby="aria-label-filteractions">
    <li role="menuitem"><roundcube:button command="plugin.manageprocmail-del" label="delete" classAct="active" /></li>
    <roundcube:container name="filteroptions" id="filtermenu" />
  </ul>
</div>

<roundcube:object name="message" id="messagestack" />

<roundcube:include file="/includes/footer.html" />

</body>
</html>
